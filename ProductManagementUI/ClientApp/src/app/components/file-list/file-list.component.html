<div *ngIf="dataSource.data.length > 0">
    <mat-form-field appearance="outline" class="example-full-width">
        <mat-label>Select Revision</mat-label>
        <mat-select
            [(ngModel)]="selectedBranch"
            name="exportType"
            (selectionChange)="onBranchChange()"
        >
            <mat-option
                *ngFor="let branch of factorFileList"
                [value]="branch"
                class="button-width"
            >
                {{ branch }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <div>
        <mat-form-field appearance="outline" class="example-full-width">
            <mat-label>Filter</mat-label>
            <input
                matInput
                (keyup)="applyFilter($event)"
                placeholder="fiter value"
                #input
            />
        </mat-form-field>
    </div>

    <button
        mat-raised-button
        color="primary"
        (click)="onSelect()"
        class="button-width button-position"
    >
        <mat-icon *ngIf="view === 'edit'">edit</mat-icon>
        <mat-icon *ngIf="view !== 'edit'">visibility</mat-icon>
        {{ buttonLabel }}
    </button>
</div>

<!-- <div *ngIf="dataSource.data.length > 0"> -->
<div class="mat-elevation-z8">
    <!-- <div *ngIf="!branchLoadComplete">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div> -->

    <table mat-table [dataSource]="dataSource" matSort>
        <!-- commitId Column -->
        <ng-container matColumnDef="fileName">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Rating Factor File
            </th>
            <td class="col-width-2" mat-cell *matCellDef="let row">
                {{ row.fileName }}
            </td>
        </ng-container>

        <!-- fileName Name Column -->
        <ng-container matColumnDef="filePath">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Factor Path
            </th>
            <td mat-cell *matCellDef="let row">
                {{ row.filePath }}
            </td>
        </ng-container>

        <!-- line of business Column -->
        <ng-container matColumnDef="lob">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Line of Business
            </th>
            <td class="col-width" mat-cell *matCellDef="let row">
                {{ row.lob }}
            </td>
        </ng-container>

        <!-- lastupdated Column -->
        <ng-container matColumnDef="lastUpdated">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Last Updated
            </th>
            <td class="col-width" mat-cell *matCellDef="let row">
                {{ row.lastUpdated }}
            </td>
        </ng-container>

        <!-- effectivedate Column -->
        <ng-container matColumnDef="effectiveDate">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Effective Date
            </th>
            <td class="col-width" mat-cell *matCellDef="let row">
                {{ row.effectiveDate }}
            </td>
        </ng-container>

        <!-- Renewal Column -->
        <ng-container matColumnDef="renewalDate">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Renewal Date
            </th>
            <td class="col-width" mat-cell *matCellDef="let row">
                {{ row.renewalDate }}
            </td>
        </ng-container>

        <!-- Renewal Column -->
        <ng-container matColumnDef="fileVersionId">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                class="table-column-header"
            >
                Version
            </th>
            <td class="col-width-2" mat-cell *matCellDef="let row">
                {{ row.fileVersionId }}
            </td>
        </ng-container>

        <ng-container matColumnDef="action">
            <th
                mat-header-cell
                class="th-center table-column-header"
                *matHeaderCellDef
                style="justify-content: left"
            >
                Action
            </th>
            <td mat-cell *matCellDef="let row">
                <!-- <a mat-button (click)="loadData(row)">Load Details</a> -->

                <mat-checkbox
                    class="table-column-header"
                    (click)="onChange(row)"
                    >{{ checkBoxLabel }}</mat-checkbox
                >
                <button mat-button color="primary" (click)="viewHistory(row)">
                    View History
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <div *ngIf="dataSource.data.length === 0" class="center">
        <mat-spinner class="wrapper" style="margin: 0 auto"></mat-spinner>
    </div>

    <!-- <table>
        <tr *ngIf="!dataSource.data?.length">
            <td
                style="text-align: center"
                [attr.colspan]="displayedColumns?.length"
            >
                No Records Found!
            </td>
        </tr>
    </table> -->
    <div class="row" style="background-color: none; width: 900px">
        <div class="col-md-6" *ngIf="dataSource.data.length > 0">
            <button mat-button color="primary" (click)="goToDashboard()">
                <mat-icon>fast_rewind</mat-icon>
                Back
            </button>
        </div>
        <div class="col-md-6">
            <mat-paginator
                [hidden]="!dataSource.data.length"
                [pageSizeOptions]="[5, 10, 25, 100]"
                aria-label="Select page of
                files"
            >
            </mat-paginator>
        </div>
    </div>
</div>
<!-- </div> -->
